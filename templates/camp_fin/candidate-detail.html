{% extends 'base.html' %}
{% load helpers %}

{% block full_content %}

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <h1>
                {{ candidate.full_name }}
            </h1>
            <table class="table table-condensed">
                <tbody>
                {% if candidate.business_phone %}
                    <tr>
                        <td>
                            <i class="fa fa-phone" aria-hidden="true"></i> (business) {{ candidate.business_phone}}
                        </td>
                    <tr>
                {% endif %}
                {% if candidate.home_phone %}
                    <tr>
                        <td>
                            <i class="fa fa-phone" aria-hidden="true"></i> (home) {{ candidate.home_phone }}
                        </td>
                    </tr>
                {% endif %}
                {% if candidate.email %}
                    <tr>
                        <td>
                            <i class="fa fa-envelope-o" aria-hidden="true"></i> {{ candidate.email }}
                        </td>
                    </tr>
                {% endif %}
                </tbody>
            </table>
        </div>
        <div class="col-sm-6">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>{{ latest_filing.filing_period.description }} Report</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Opening balance</td>
                        <td>{{ latest_filing.opening_balance|format_money }}</td>
                    </tr>
                    <tr>
                        <td>Total contributions</td>
                        <td>{{ latest_filing.total_contributions|format_money }}</td>
                    </tr>
                    <tr>
                        <td>Total in-kind contributions</td>
                        <td>{{ latest_filing.total_inkind|format_money }}</td>
                    </tr>
                    <tr>
                        <td>Total expenditures</td>
                        <td>{{ latest_filing.total_expenditures|format_money }}</td>
                    </tr>
                    <tr>
                        <td>Closing balance</td>
                        <td>{{ latest_filing.closing_balance|format_money }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h3>Campaigns</h3>
            <table class="table table-condensed">
                <thead>
                    <tr>
                        <th>Office</th>
                        <th>Committee name</th>
                        <th>Election season</th>
                        <th>Won primary?</th>
                        <th>Won general?</th>
                    </tr>
                </thead>
                <tbody>
                    {% for campaign in candidate.campaign_set.all %}
                        <tr>
                            <td>{{ campaign.office_name }}</td>
                            <td>{{ campaign.committee_name|default_if_none:"" }}</td>
                            <td>{{ campaign.election_season_id }}</td>
                            <td>{{ campaign.primary_election_winner_status|default_if_none:"" }}</td>
                            <td>{{ campaign.general_election_winner_status|default_if_none:"" }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table class="table table-condensed"></table>
        </div>
    </div>
</div>

{% endblock %}
